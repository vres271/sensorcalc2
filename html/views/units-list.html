<nav class="navbar navbar-fluide navbar-fixed-top marg-1 bg-white" >
	<div class="container-fluide">
		<form action="" class="navbar-form ">
			<div ng-hide="!items_checked" class="form-group">
			    <div class="btn-group">
			      <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="fa fa-check" data-toggle="dropdown"></i> <span  translate>with selected</span>... <span class="caret"></span></button>
			      <ul class="dropdown-menu" role="menu">
			        <li><a href="" ng-href="#about/admin">{{'Backup and remove units'|translate}} <sup><span class="label label-primary">CRM</span></sup></a></li>
			        <li><a href="" ng-href="#about/admin">{{'Move to another account'|translate}} <sup><span class="label label-primary">CRM</span></sup></a></li>
			        <li class="divider"></li>
			        <li><a href="" ng-href="#about/support">{{'Plan work'|translate}} <sup><span class="label label-primary">CRM</span></sup></a></li>
			        <li><a href="" ng-href="#about/support">{{'Register results'|translate}} <sup><span class="label label-primary">CRM</span></sup></a></li>
			        <li><a href="" ng-href="#about/support">{{'Show events history'|translate}} <sup><span class="label label-primary">CRM</span></sup></a></li>
			      </ul>
			    </div>
			</div>
			<div class="form-group">
				<a href="" ng-href="#about/admin" class="btn btn-default" ><i class="fa fa-plus grey"></i> {{'Create Units'|translate}} <sup><span class="label label-primary">CRM</span></sup></a>
			</div>
			<span  translate>Filters</span>:
			<div class="form-group">
				<a href="" ng-click="resetFilter()" class="btn btn-default" title="{{'Reset all filters'|translate}}"><i class="fa fa-ban grey"></i></a>
			</div>
			<div class="form-group">
				<input ng-model="s.custom_filter.account_name" data-ng-model-options="{debounce: 150}"  class="form-control" type="text" name="" placeholder="{{'by Account Name'|translate}}"  size="10">
			</div>
			<div class="form-group">
				<input ng-model="s.filter.nm" data-ng-model-options="{debounce: 150}"  class="form-control" type="text" name="" placeholder="{{'by Name'|translate}}"  size="10">
			</div>
			<div class="form-group">
				<input ng-model="s.filter.uid" data-ng-model-options="{debounce: 150}"  class="form-control" type="text" name="" placeholder="{{'by UID'|translate}}"  size="14">
			</div>
			<div class="form-group">
				<input ng-model="s.custom_filter.hw" data-ng-model-options="{debounce: 150}"  class="form-control" type="text" name="" placeholder="{{'by HW Type'|translate}}"  size="7">
			</div>
			<div class="form-group"> 
				<input ng-model="s.filter.ph" data-ng-model-options="{debounce: 150}"  class="form-control" type="text" name="" placeholder="{{'by Phone'|translate}}"  size="10">
			</div>
<!-- 			<div class="form-group">
				<input ng-model="s.custom_filter.maxt" class="form-control" type="text" name="" placeholder="max t"  size="5">
			</div>
 -->		
 			<div class="form-group">
				<select ng-model="s.limit" ng-options="value for value in [25,50,100,200,400,800,10000]" class="form-control" name="" placeholder="Limit" id="limit"></select>
			</div>
			<div class="form-group">
			    <div class="btn-group">
					<a href="" ng-click="resetFilter()" class="btn btn-default dropdown-toggle" title="{{'Reset all filters'|translate}}"  data-toggle="dropdown"><i class="fa  fa-bars" aria-hidden="true"></i></a>
					<ul class="dropdown-menu" role="menu">
						<li ng-repeat="(colname, falue) in s.show"><a href=""><input type="checkbox"  id="chkbz1"> <span for="chkbz1">{{colname}}</span></a></li>
					</ul>
				</div>
			</div>
		</form>
	</div>
</nav>
<br>
<div class="container-fluide">
	<div class="table-responsive">
		<table class="table table-striped" id="items-table">
			<thead>
                <tr>
                  <th><input type="checkbox" ng-model="all_checked" ng-click="checkAll()"></th> 
                  <th width="50px">#</th>
                  <th ng-if="s.show.accounts_nm"><a href="" ng-click="setOrderBy('crt')" ><i ng-if="s.orderby === 'crt'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'ACCOUNT'|translate}}</a></th>
                  <th></th>
                  <th ng-if="s.show.nm"><a href="" ng-click="setOrderBy('nm')" ><i ng-if="s.orderby === 'nm'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'UNIT_NAME'|translate}}</a></th>
                  <th ng-if="s.show.uid"><a href="" ng-click="setOrderBy('uid')" ><i ng-if="s.orderby === 'uid'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'UID'|translate}}</a></th>
                  <th ng-if="s.show.hw"><a href="" ng-click="setOrderBy('hw')" ><i ng-if="s.orderby === 'hw'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'HW'|translate}}</a></th>
                  <th ng-if="s.show.ph"><a href="" ng-click="setOrderBy('ph')" ><i ng-if="s.orderby === 'ph'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'PHONE'|translate}}</a></th>
                  <th ng-if="s.show.lmsg_t"><a href="" ng-click="setOrderBy('lmsg.t')" ><i ng-if="s.orderby === 'lmsg.t'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'MSG_TIME'|translate}}</a></th>
                  <th ng-if="s.show.lmsg_v"><a href="" ng-click="setOrderBy('lmsg.pos.s')" ><i ng-if="s.orderby === 'lmsg.pos.s'" class="fa fa-sort-{{s.orderby_reverse ? 'asc' : 'desc'}}" aria-hidden="true"></i> {{'SPEED'|translate}}</a></th>
                  <th ng-if="s.show.online" colspan="100" >{{'ONLINE'|translate}}</th>
                </tr>
          	</thead>
          	<tbody>
				<tr ng-repeat="item in units.items | filter: s.filter | UnitsFilter: s.custom_filter : now.ut : hwtypes : accounts | orderBy : s.orderby : s.orderby_reverse | limitTo : s.limit : 0 as items_result track by $index" class="item-row {{item._checked?'info':''}}">
					<td><input type="checkbox" ng-model="item._checked" ng-change="onItemSelect();"></td>
					<td ng-bind="$index+1"></td>
					<td ng-if="s.show.accounts_nm" ><a href="" ng-href="#account/{{accounts.index.crt[item.crt].id}}"  ng-bind="accounts.index.crt[item.crt].nm"></a></td>
					<td><img width="16px" ng-src="https://hst-api.wialon.com{{item.uri}}" alt=""></td>
					<td ng-if="s.show.nm" ><a href="" ng-href="#unit/{{item.id}}" ng-bind="item.nm"></a></td>
					<td ng-if="s.show.uid"  ng-bind="item.uid"></td>
					<td ng-if="s.show.hw"  nowrap ng-bind="hwtypes.index.id[item.hw].name"></td>
					<td ng-if="s.show.ph"  ng-bind="item.ph"></td>
					<td ng-if="s.show.lmsg_t"  ng-bind="(now.ut-item.lmsg.t) | UTtoTime"></td>
					<td ng-if="s.show.lmsg_v"  ng-bind="item.lmsg.pos.s"> ng-bind="item.lmsg.pos.s"</td>
					<td ng-if="s.show.online" ><a  href="" ng-href="#/unit/{{item.id}}/messages" title="Go to messages"><i class="fa fa-circle {{['green','red'][1*((now.ut-item.lmsg.t)>opt.unit_online_max_interval)]}}"></i></a></td>
				</tr>
			</tbody>
		</table>
	</div>
	<nav ng-hide="!((units.items.length > s.limit)&&(items_result.length === s.limit))" class="text-center" id="paginator">
		<ul class="pagination">
			<li><a href="" ng-click="s.limit = s.limit + s.limit">{{ 'Show more n rows' | translate:{n: s.limit} }}<br><i class="fa fa-chevron-down"></a></i></li>
		</ul>
	</nav>
