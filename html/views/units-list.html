<nav class="navbar navbar-fluide navbar-fixed-top marg-1 bg-white" >
	<div class="container">
		<form action="" class="navbar-form ">
			<div ng-hide="!ItemsSelected()" class="form-group">
			    <div class="btn-group">
			      <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
			      <i class="fa fa-check" data-toggle="dropdown"></i> <span  translate>with selected</span>... <span class="caret"></span></button>
			      <ul class="dropdown-menu" role="menu">
			        <li><a href="" ng-href="#about/admin" translate>Backup and remove units</a></li>
			        <li><a href="" ng-href="#about/admin" translate>Move to another account</a></li>
			        <li class="divider"></li>
			        <li><a href="" ng-href="#about/support" translate>Plan work</a></li>
			        <li><a href="" ng-href="#about/support" translate>Register results</a></li>
			        <li><a href="" ng-href="#about/support" translate>Show events history</a></li>
			      </ul>
			    </div>
			</div>
			<div class="form-group">
				<a href="" ng-href="#about/admin" class="btn btn-default" ><i class="fa fa-plus grey"></i> <span  translate>Create Units</span> </a>
			</div>
			<span  translate>Filters</span>:
			<div class="form-group">
				<a href="" ng-click="resetFilter()" class="btn btn-default" title="{{'Reset all filters'|translate}}"><i class="fa fa-ban grey"></i></a>
			</div>
			<div class="form-group">
				<input ng-model="s.filter.nm" class="form-control" type="text" name="" placeholder="{{'by Name'|translate}}"  size="10">
			</div>
			<div class="form-group">
				<input ng-model="s.filter.uid" class="form-control" type="text" name="" placeholder="{{'by UID'|translate}}"  size="14">
			</div>
			<div class="form-group"> 
				<input ng-model="s.filter.ph" class="form-control" type="text" name="" placeholder="{{'by Phone'|translate}}"  size="10">
			</div>
			<div class="form-group">
				<input ng-model="s.custom_filter.hw" class="form-control" type="text" name="" placeholder="{{'by HW Type'|translate}}"  size="7">
			</div>
<!-- 			<div class="form-group">
				<input ng-model="s.custom_filter.maxt" class="form-control" type="text" name="" placeholder="max t"  size="5">
			</div>
 -->			<div class="form-group ">
				<select ng-model="s.limit" ng-options="value for value in [25,50,100,200,400,800,10000]" class="form-control" name="" placeholder="Limit" id="limit"></select>
			</div>
		</form>
	</div>
</nav>
<br>
<div class="container">
	<div class="table-responsive">
		<table class="table table-striped" id="items-table">
			<thead>
                <tr>
                  <th><input type="checkbox" ng-model="all_checked" ng-click="checkAll()"></th> 
                  <th width="50px">#</th>
                  <th translate>UNIT_NAME</th>
                  <th></th>
                  <th translate>UID</th>
                  <th translate>HW</th>
                  <th translate>PHONE</th>
                  <th translate>MSG_TIME</th>
                  <th translate>SPEED</th>
                  <th colspan="100" translate>ONLINE</th>
                </tr>
          	</thead>
          	<tbody>
				<tr ng-repeat="item in units.items | filter: s.filter | UnitsFilter: s.custom_filter : now.ut : hwtypes | orderBy : s.orderby | limitTo : s.limit : 0 as items_result" class="item-row {{item._checked?'info':''}}">
					<td><input type="checkbox" ng-model="item._checked" ng-change="onItemSelect();"></td>
					<td>{{$index+1}}</td>
					<td><img width="16px" ng-src="https://hst-api.wialon.com{{item.uri}}" alt=""></td>
					<td><a href="" ng-href="#unit/{{item.id}}">{{item.nm}}</a></td>
					<td>{{item.uid}}</td>
					<td>{{hwtypes.index.id[item.hw].name}}</td>
					<td>{{item.ph}}</td>
					<td>{{(now.ut-item.lmsg.t) | UTtoTime}}</td>
					<td>{{item.lmsg.pos.s}}</td>
					<td><a  href="" ng-href="#/unit/{{item.id}}/messages" title="Go to messages"><i class="fa fa-circle {{['green','red'][1*((now.ut-item.lmsg.t)>opt.unit_online_max_interval)]}}"></i></a></td>
				</tr>
			</tbody>
		</table>
	</div>
	<nav ng-hide="!((units.items.length > s.limit)&&(items_result.length === s.limit))" class="text-center" id="paginator">
		<ul class="pagination">
			<li><a href="" ng-click="s.limit = s.limit + s.limit">{{ 'Show more n rows' | translate:{n: s.limit} }}<br><i class="fa fa-chevron-down"></a></i></li>
		</ul>
	</nav>
